<% page = page || ""%>
<%= hidden_field_tag 'page', page%>
<div class="inner-page">
	<div class="container">
		<div class="page-mainbar login">
			<!-- Login/Register Content -->
			<div class="login-content">
				<!-- Nab Bar Tan Menu list -->
				<ul id="mytab" class="nav nav-tabs nav-justify">
					<li class="active">
						<a href="#login" class="br-red" data-toggle="tab">
							<!-- Icon -->
							<i class="fa fa-sign-in"></i>
							<span>Login</span>
						</a>
					</li>
					<li>
						<a href="#register" class="br-lblue" data-toggle="tab">
							<!-- Icon -->
							<i class="fa fa-sign-out"></i>
							<span>Sign Up</span>
						</a>
					</li>
					<li>
						<a href="#quick_order" class="br-green" data-toggle="tab">
							<!-- Icon -->
							<i class="fa fa-user"></i>
							<span>Quick Order</span>
						</a>
					</li>
				</ul>
				<!-- Content for each menu item -->
				<div class="tab-content">
					<!-- First Content for Nav bar -->
					<div class="tab-pane fade in active br-red login-box" id="login">
						<!-- Heading -->
						<h2>Login</h2>
						<!-- Sign in Form Start -->
						<%= form_for(resource, as: resource_name, url: session_path(resource_name), html: { class: "form-horizontal"} ) do |f| %>
							<div class="form-group">
								<div class="col-sm-12">
									<%= f.email_field :email, class: "form-control", placeholder: "Email", :"data-validation" => "email" %>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<%= f.password_field :password, class: "form-control", placeholder: "Password", autocomplete: "off", :"data-validation" => "required" %>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<div class="checkbox">
										<label>
											<input type="checkbox"> Remember me
										</label>
										<span class="pull-right"><a href="#myModal" data-toggle = "modal">Forget Password</a></span>
										<div class="clearfix"></div>
									</div>
								</div>
							</div>
							<div class="form-group text-center">
								<div class="col-sm-12">
									<button type="submit" class="btn btn-black">Login</button>&nbsp;
									<button type="reset" class="btn btn-default">Reset</button>
								</div>
							</div>
						<%end%>
						<br />
						<div class="divider" align="center">
						 ----OR----
						 </div>
						<br />
						<div align="center">
							<a href=<%=user_google_oauth2_omniauth_authorize_path%>>
								<img src="/img/google.png" class="img-responsive" alt="" height="33" width="175" />
							</a>
						</div>
						<br />
						<!-- Sign in form End -->
					</div>
					
					<!-- Second Content for Nav bar -->
					<div class="tab-pane fade br-lblue" id="register">
						<!-- Heading -->
						<h2>Registration</h2>
						<!-- Sign Up Form Start -->
						<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: "form-horizontal"}) do |f| %>
							<%= devise_error_messages! %>
							<div class="form-group">
								<div class="col-sm-12">
									<%= f.text_field :name, class: "form-control",placeholder: "Full Name", autofocus: true, :"data-validation" => "required", :"data-validation-error-msg" => "We dont know your name please let us know :)" %>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<%= f.email_field :email, class: "form-control", placeholder: "Email", autocomplete: "off", :"data-validation" => "email", :"data-validation-error-msg" => "Please enter valid email for eg: user@gmail.com" %>
								</div>
							</div>
							<!--<div class="form-group">
								<div class="col-sm-12">
									<%#= f.text_field :phone_no, class: "form-control", placeholder: "Phone Number", autocomplete: "off", :"data-validation" => "custom", :"data-validation-regexp" => "([0-9]{10})", :"data-validation-error-msg" => "Enter valid phone number eg: 9458694725" %>
								</div>
							</div>-->
							<div class="form-group">
								<div class="col-sm-12">
									<%= f.password_field :password, name: "user[password]_confirmation", class: "form-control", placeholder: "Password", autocomplete: "off", :"data-validation" => "length", :"data-validation-length" => "min8", :"data-validation-error-msg" => "Please enter minimum 8 characters as your password"  %>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<%= f.password_field :password_confirmation, name: "user[password]", class: "form-control", placeholder: "Confirm Password", autocomplete: "off", :"data-validation" => "confirmation", :"data-validation-error-msg" => "Password confirmation does not match password"%>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<div class="checkbox">
										<label>
											<%= f.check_box :terms_of_service, :"data-validation" => "required", :"data-validation-error-msg" => "You have to agree to our terms" %> Accept All Terms & Conditions
										</label>
										<span class="pull-right"><a href="#">View</a></span>
										<div class="clearfix"></div>
									</div>
								</div>
							</div>
							<div class="form-group text-center">
								<div class="col-sm-12">
									<button type="submit" class="btn btn-black">Registration</button>&nbsp;
									<button type="reset" class="btn btn-default">Reset</button>
								</div>
							</div>
						<%end%>
						<!-- Sign Up form End -->
					</div>
					
					<!-- Third Content for Nav bar -->
					<div class="tab-pane fade br-green" id="quick_order">
						<!-- Heading -->
						<h2>Quick Order</h2>
						<div class="form-group">
						  	<label for="note">*Note: We recommend Login to get full control.  </label>
						</div>
						<%= form_tag quick_order_orders_path do |f| %>
							<div class="form-group">
								<div class="col-sm-12">
									<label for="name">Name</label>
									<%= text_field_tag :name, nil, class: "form-control",placeholder: "Full Name", autofocus: true, :"data-validation" => "required", :"data-validation-error-msg" => "You forget to enter name :)" %>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<label for="Email">Email</label>
									<%= text_field_tag :email,  nil, class: "form-control", placeholder: "Email", autocomplete: "off", :"data-validation" => "email", :"data-validation-error-msg" => "Please enter valid email for eg: user@gmail.com" %>
								</div>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<label for="phone_no">Phone No</label>
									<%= text_field_tag :phone_no,  nil, class: "form-control", placeholder: "Phone Number", autocomplete: "off", :"data-validation" => "custom", :"data-validation-regexp" => "([0-9]{10})", :"data-validation-error-msg" => "Enter valid phone number eg: 9458694725" %>
								</div>
							</div>
							<div class="form-group">
								<label for="service_id">Service Required</label>
								<%= select_tag :service_id, options_for_select(Service.all.map{|service| [ service.name, service.id]}), class:"form-control"%>
							</div>
							<div class="form-group">
								<div class="col-sm-12">
									<div class="col-sm-6">
										<label for="service_id">Pickup Date</label>
										<div class="form-group">
											<div class='input-group date' id='datetimepicker1'>
												<input type='text' name= "order[collecting_date]"class="form-control" onkeydown="return false"/>
												<span class="input-group-addon">
													<span class="fa fa-calendar"></span>
												</span>
											</div>
										</div>
									</div>
									<div class="col-sm-6">
										<label for="service_id">Pickup Time</label>
										<%= select_tag :collecting_time, options_for_select(["8-10", "10-12", "12-2", "2-4", "4-6", "6-8"]), class:"form-control"%>
								  	</div>
								</div>
							</div>
							<div class="form-group">
								<label for="service_id">Locality</label>
								<%= select_tag :area,  options_for_select(["sec 15", "sec 16"]), class:"form-control"%>
							</div>
							<div class="form-group">
								<label for="service_id">Address</label>
								<%= text_area_tag :address, nil, maxlength: 150, class:"form-control", :"data-validation" => "required"%>
							</div>
							<div class="form-group text-center">
								<!-- form Submit and reset button -->
								<button type="submit" class="btn btn-black">Submit</button>&nbsp;
								<button type="reset" class="btn btn-default">Reset</button>
							</div>
						<%end%>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div id="myModal" class="modal fade " tabindex="-1" data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close red" data-dismiss="modal" aria-hidden="true"></button>
				<h4 class="modal-title black">Forget Password</h4>
			</div>
			<div class="modal-body">
				<%= form_for(resource, as: resource_name, url: password_path(resource_name), html: { method: :post }) do |f| %>
					<div class="form-group">
						<label for="email">Email</label>
						<%= f.email_field :email, class:"form-control", placeholder: "Email", autocomplete: "off", :"data-validation" => "email", :"data-validation-error-msg" => "Please enter valid email for eg: user@gmail.com"%>
					</div>
					<div class="form-group">
						<!-- form Submit and reset button -->
						<button type="submit" class="btn btn-success"> Send me reset password instructions </button>&nbsp;
					</div>
				<% end %>
			</div>
			<div class="modal-footer">
				<button type="button" data-dismiss="modal" class="btn btn-danger">Cancel</button>
			</div>
		</div>
	</div>
</div>

	
<script>
  $(document).ready(function(){
    var page = $("#page").val();
    if(page)
    {
    	var klass = '.nav-tabs a[href="#'+page+'"]'
    	$(klass).tab('show');
    }
    
    $(".forget_password_link").click(function(e){
    	e.preventDefault();
    	$("#myModal").modal('toggle');
    });
  });
</script>
